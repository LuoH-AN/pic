/* Global base styles aligned with the current UI components. */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body,
#__nuxt {
  margin: 0;
  padding: 0;
  min-height: 100%;
}

:root {
  --bottom-nav-offset: calc(70px + env(safe-area-inset-bottom));
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-10: 40px;

  --color-page-bg: #f7f5ef;
  --color-surface: #ffffff;
  --color-surface-alt: #f3f2ee;
  --color-hover: #eef2f7;

  --color-border: #e3e0d9;
  --color-border-strong: #d2cfc8;

  --color-text-primary: #1f2937;
  --color-text-secondary: #334155;
  --color-text-muted: #64748b;

  --color-primary: #1d4ed8;
  --color-primary-strong: #1e40af;
  --color-primary-soft: #dbeafe;
  --color-primary-surface: rgba(29, 78, 216, 0.06);
  --color-primary-ring: rgba(29, 78, 216, 0.18);

  --color-success: #0f766e;
  --color-danger: #b91c1c;
  --color-danger-soft: #fca5a5;
  --color-danger-surface: #fef2f2;

  --color-toast-bg: rgba(15, 23, 42, 0.92);
  --color-toast-text: #ffffff;
  --color-toast-border: rgba(255, 255, 255, 0.14);
  --color-overlay: rgba(15, 23, 42, 0.52);
  --color-shimmer-start: #eef2f7;
  --color-shimmer-mid: #f8fafc;

  --shadow-soft: 0 10px 32px rgba(15, 23, 42, 0.12);
  --shadow-toast: 0 4px 12px rgba(0, 0, 0, 0.15);
}

:root[data-theme='dark'] {
  --color-page-bg: #101621;
  --color-surface: #1a2432;
  --color-surface-alt: #232e3d;
  --color-hover: #2d3847;

  --color-border: #324052;
  --color-border-strong: #405066;

  --color-text-primary: #edf2fb;
  --color-text-secondary: #c8d5e8;
  --color-text-muted: #9caec7;

  --color-primary: #8ab1ff;
  --color-primary-strong: #a5c2ff;
  --color-primary-soft: rgba(138, 177, 255, 0.2);
  --color-primary-surface: rgba(138, 177, 255, 0.2);
  --color-primary-ring: rgba(138, 177, 255, 0.42);

  --color-success: #44c9b5;
  --color-danger: #ff8b8b;
  --color-danger-soft: #f87171;
  --color-danger-surface: rgba(248, 113, 113, 0.16);

  --color-toast-bg: rgba(2, 6, 23, 0.9);
  --color-toast-text: #eff6ff;
  --color-toast-border: rgba(148, 163, 184, 0.3);
  --color-overlay: rgba(3, 9, 20, 0.72);
  --color-shimmer-start: #283346;
  --color-shimmer-mid: #33405a;

  --shadow-soft: 0 12px 34px rgba(2, 6, 23, 0.46);
  --shadow-toast: 0 6px 18px rgba(2, 6, 23, 0.45);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    --color-page-bg: #101621;
    --color-surface: #1a2432;
    --color-surface-alt: #232e3d;
    --color-hover: #2d3847;

    --color-border: #324052;
    --color-border-strong: #405066;

    --color-text-primary: #edf2fb;
    --color-text-secondary: #c8d5e8;
    --color-text-muted: #9caec7;

    --color-primary: #8ab1ff;
    --color-primary-strong: #a5c2ff;
    --color-primary-soft: rgba(138, 177, 255, 0.2);
    --color-primary-surface: rgba(138, 177, 255, 0.2);
    --color-primary-ring: rgba(138, 177, 255, 0.42);

    --color-success: #44c9b5;
    --color-danger: #ff8b8b;
    --color-danger-soft: #f87171;
    --color-danger-surface: rgba(248, 113, 113, 0.16);

    --color-toast-bg: rgba(2, 6, 23, 0.9);
    --color-toast-text: #eff6ff;
    --color-toast-border: rgba(148, 163, 184, 0.3);
    --color-overlay: rgba(3, 9, 20, 0.72);
    --color-shimmer-start: #283346;
    --color-shimmer-mid: #33405a;

    --shadow-soft: 0 12px 34px rgba(2, 6, 23, 0.46);
    --shadow-toast: 0 6px 18px rgba(2, 6, 23, 0.45);
  }
}

:root.theme-transitioning,
:root.theme-transitioning *,
:root.theme-transitioning *::before,
:root.theme-transitioning *::after {
  transition:
    background-color 280ms ease,
    border-color 280ms ease,
    color 220ms ease,
    fill 220ms ease,
    stroke 220ms ease,
    box-shadow 280ms ease;
}

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  color: var(--color-text-primary);
  background: var(--color-page-bg);
}

.page-fade-enter-active,
.page-fade-leave-active {
  transition: opacity 140ms ease;
}

.page-fade-enter-from,
.page-fade-leave-to {
  opacity: 0;
}

/* Shared expand/collapse animation for conditional config panels. */
.expand-panel-enter-active {
  overflow: hidden;
  transition:
    opacity 220ms ease,
    transform 260ms cubic-bezier(0.22, 1, 0.36, 1),
    max-height 260ms ease;
}

.expand-panel-enter-from {
  opacity: 0;
  transform: translateY(-8px);
  max-height: 0;
}

.expand-panel-enter-to {
  opacity: 1;
  transform: translateY(0);
  max-height: 420px;
}

.expand-panel-leave-active {
  overflow: hidden;
  transition:
    opacity 180ms ease,
    transform 220ms ease,
    max-height 220ms ease;
}

.expand-panel-leave-from {
  opacity: 1;
  transform: translateY(0);
  max-height: 420px;
}

.expand-panel-leave-to {
  opacity: 0;
  transform: translateY(-6px);
  max-height: 0;
}

@media (prefers-reduced-motion: reduce) {
  :root.theme-transitioning,
  :root.theme-transitioning *,
  :root.theme-transitioning *::before,
  :root.theme-transitioning *::after {
    transition: none !important;
  }
}
